(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{143:function(e,t,a){"use strict";a.r(t);a(211),a(212),a(81),a(215),a(218);var r=a(219),n=a.n(r),i=(a(34),a(44),a(42),a(220)),s=a.n(i),p=(a(221),a(180),a(223)),c=a.n(p),o=(a(90),a(179),a(226)),l=a.n(o),u=(a(80),a(55),a(38),a(227),a(145),a(82),a(35)),h=a.n(u),d=a(7),f=a.n(d),m=a(0),g=a.n(m),b=a(4),v=a.n(b),y=(a(229),a(157)),x=a(154),E=a(237),k=a.n(E),q=function(){return k()("V44DVXE9D5","dd168a8fddaca738560271cc4a6abe17")},R=a(210),w=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var a=t.props,r=a.onChange,n=a.textSearch;"search"===e.target.type?n=e.target.value:console.warn("[AppSearchForm] Unhandled form target type:",e.target.type),r({textSearch:n})},t.renderEntry=function(e){return g.a.createElement(x.a,Object.assign({},e,{key:e.name,noIconTriplet:t.props.noIconTriplet}))},t}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.apps,a=e.textSearch;return g.a.createElement("div",{className:"cell large-8"},g.a.createElement("form",{className:"apps-search",onChange:this.handleChange},g.a.createElement("input",{type:"search",placeholder:"Search",defaultValue:a}),g.a.createElement("svg",{className:"svg-ico"},g.a.createElement("use",{xlinkHref:"#icon-find"}))),g.a.createElement("div",{className:"featured-apps-list"},t.map(this.renderEntry)))},t}(g.a.Component);w.propTypes={apps:v.a.arrayOf(v.a.object).isRequired,noIconTriplet:v.a.bool.isRequired,onChange:v.a.func.isRequired,textSearch:v.a.string.isRequired};var N=function(e){function t(){return e.apply(this,arguments)||this}return f()(t,e),t.prototype.render=function(){var e=this,t=this.props.apps;return g.a.createElement("div",{className:"cell large-8"},g.a.createElement("div",{className:"grid-x grid-margin-x featured-apps fusion-title-apps"},g.a.createElement("div",{className:"cell large-10 m-0"},g.a.createElement("h4",{className:"title-apps"},"Featured Apps")),t.map(function(t){return g.a.createElement(x.g,Object.assign({},t,{key:t.name,noIconTriplet:e.props.noIconTriplet}))})))},t}(g.a.Component);N.propTypes={apps:v.a.arrayOf(v.a.shape({name:v.a.string.isRequired,title:v.a.string.isRequired,description:v.a.string.isRequired,active:v.a.bool.isRequired,installed:v.a.bool.isRequired})).isRequired,noIconTriplet:v.a.bool.isRequired};var T=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var a=t.props,r=a.onChange,n=a.checkedObj;"checkbox"===e.target.type?n[e.target.name]=!n[e.target.name]:console.warn("[AppSearchForm] Unhandled form target type:",e.target.type),r({checkedObj:n})},t.renderTopic=function(e){var a=e.name,r=e.title,n=t.props.checkedObj;return g.a.createElement("li",{key:a,className:"dp-CustomCheckbox"},g.a.createElement("input",{type:"checkbox",id:"checkbox-"+a,name:a,defaultChecked:n[a]||!1}),g.a.createElement("label",{htmlFor:"checkbox-"+a},g.a.createElement("svg",{className:"svg-ico"},g.a.createElement("use",{xlinkHref:"#icon-"+a})),r))},t.renderGroup=function(e){var a=e.groupTitle,r=e.groupList;return g.a.createElement(g.a.Fragment,{key:a},g.a.createElement("h4",{className:"filter-title"},a),g.a.createElement("ul",{className:"filter-list"},r.map(t.renderTopic)))},t}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.invisible,a=e.topicList;return g.a.createElement("div",{className:"cell large-2",onChange:this.handleChange},t?null:g.a.createElement("div",{className:"apps-filters"},a.map(this.renderGroup)))},t}(g.a.Component);T.propTypes={checkedObj:v.a.objectOf(v.a.bool).isRequired,invisible:v.a.bool.isRequired,onChange:v.a.func.isRequired,topicList:v.a.arrayOf(v.a.shape({groupTitle:v.a.string.isRequired,groupList:v.a.arrayOf(v.a.shape({name:v.a.string.isRequired})).isRequired})).isRequired};var C=function(e){function t(){return e.apply(this,arguments)||this}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.text;return g.a.createElement("div",{className:"cell large-2"},g.a.createElement("div",{className:"details-panel"},g.a.createElement("h4",{className:"title-apps"},t),g.a.createElement("p",{className:"paragraph_small"},a)))},t}(g.a.Component);function I(e,t){I=function(e,t){return new i(e,t)};var a=c()(RegExp),r=RegExp.prototype,n=new WeakMap;function i(e,t){var r=a.call(this,e);return n.set(r,t),r}function p(e,t){var a=n.get(t);return Object.keys(a).reduce(function(t,r){return t[r]=e[a[r]],t},Object.create(null))}return s()(i,a),i.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=p(t,this)),t},i.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var a=n.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+a[t]}))}if("function"==typeof t){var i=this;return r[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(p(e,i)),t.apply(this,e)})}return r[Symbol.replace].call(this,e,t)},I.apply(this,arguments)}C.propTypes={title:v.a.string.isRequired,text:v.a.string.isRequired},a.d(t,"query",function(){return j});var O=q().initIndex("dev_DAM"),S=function(e){function t(t){var a;(a=e.call(this,t)||this).state={hitList:[],search:{textSearch:"",checkedObj:{}}},a.searchRequestTime=0,a.searchClient=q(),a.getListing=function(){return(a.state.search.textSearch||a.state.hitList.length?a.state.hitList:a.filteredAppIdList).map(a.getDpapp).map(a.dpapp2appInfo)},a.getDpapp=function(e){if(!e)throw new Error("Missing argument id");var t=a.dpappPerId[e];if(!t)throw new Error("getDpapp didn't find dpapp with id '"+e+"'");return t},a.dpapp2appInfo=function(e){var t=e.dpapp,a=t.id,r=t.name,n=t.url,i=t.topics,s=t.title,p=t.packageInfo.description,c=e.childrenFile;return{id:a,name:r,title:s,description:p,url:n,topics:i,defaultIconFileList:(void 0===c?[]:c).filter(function(e){return"defaultIcon"===e.name}),active:!1,installed:!1}};var r=t.data,n=t.pageContext;console.log({page:h()(a),pageContext:n,data:r});var i=n.tabName;a.tabName=i,a.state.search.checkedObj[i]=!0;var s=r.allDpApp.nodes;if(a.filteredAppIdList=s.filter(function(e){return-1!==e.dpapp.topics.indexOf(a.tabName)}).map(function(e){return e.dpapp.id}),a.dpappPerId={},a.dpappPerName={},s.forEach(function(e){a.dpappPerId[e.dpapp.id]=e,a.dpappPerName[e.dpapp.name]=e}),Object.keys(a.dpappPerId).lenght!==s.lenght)throw new Error("dpappPerId has too few keys. Overlapping ids?");return a.featuredAppList=(y.c[a.tabName]||[]).map(function(e){return a.dpapp2appInfo(a.dpappPerName[e])}),a}f()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this;this.getSearchTextFromHash({location:location,setHash:function(e){location.hash=e}}).then(function(){e.query(e.state.search)})},a.getSearchTextFromHash=function(){var e=l()(n.a.mark(function e(t){var a,r,i,s,p,c=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.location,r=t.setHash,!(i=a.hash.match(I(/[?&]search=([^&]*)/,{text:1})))){e.next=9;break}if(r(a.hash.replace(/search=[^&]*(&|$)/g,"").replace(/\?$/,"")),(s=this.state.search).textSearch){e.next=9;break}return p=decodeURIComponent(i.groups.text),e.next=9,new Promise(function(e){return c.setState({search:Object.assign({},s,{textSearch:p})},e)});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.query=function(){var e=l()(n.a.mark(function e(t){var a,r,i,s,p,c,o,l=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.textSearch,r=t.checkedObj,i=Object.keys(r).filter(function(e){return r[e]}),s=Date.now(),e.next=5,O.search(a,{hitsPerPage:10,page:0,analytics:!1,attributesToRetrieve:"id",attributesToSnippet:"*:20",getRankingInfo:!0,facets:"*,",tagFilters:i});case 5:p=e.sent,s>=this.searchRequestTime&&((c=p.hits)?(console.log({hits:c}),o=c.map(function(e){var t=e.id;return t in l.dpappPerId?t:(console.error(t,"-- This dpapp id obtained from Algolia was","filtered out because it couldn't be found in this.dpappPerId[].","You may need to run `gatsby build` to update the Algolia index"),null)}).filter(function(e){return e}),this.setState({hitList:o},function(){l.searchRequestTime=s})):console.warn("search returned no hitList:",p));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.render=function(){var e=this,t=this.props.pageContext,a=t.tabName,r=t.paragraphTitle,n=t.paragraphText,i="fusion"!==this.tabName;return g.a.createElement(R.c,{className:"page-apps"},g.a.createElement(x.d,{title:"Apps & Integrations",keywords:["gatsby","application","react"]}),g.a.createElement(R.b,null,g.a.createElement(x.f,{basePath:"",activeTab:a,tabList:y.e,style:{justifyContent:"flex-start"}}),g.a.createElement(R.a,null,g.a.createElement(C,{title:r,text:n}),g.a.createElement(N,{apps:this.featuredAppList,noIconTriplet:i}),g.a.createElement(T,{invisible:"fusion"!==this.tabName,topicList:y.g,checkedObj:this.state.search.checkedObj,onChange:function(t){var a=t.checkedObj;if(!a)throw new Error(a);var r=Object.assign({},e.state.search,{checkedObj:a});e.setState({search:r}),e.query(r)}}),g.a.createElement(w,{apps:this.getListing(),textSearch:this.state.search.textSearch,noIconTriplet:i,onChange:function(t){var a=t.textSearch,r=Object.assign({},e.state.search,{textSearch:a});e.setState({search:r}),e.query(r)}}))))},t}(g.a.Component);S.propTypes={data:v.a.shape({allDpApp:v.a.any}).isRequired,pageContext:v.a.shape({tabName:v.a.string.isRequired,paragraphTitle:v.a.string.isRequired,paragraphText:v.a.string.isRequired}).isRequired};t.default=S;var j="1623627128"}}]);
//# sourceMappingURL=component---src-page-components-index-page-index-page-jsx-c63865765696aa6ade21.js.map